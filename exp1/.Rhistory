library(lme4)
se  = function(x) sd(x,na.rm=T)/sqrt(length(x))
files = list.files('data/', pattern = ".csv")
dat   = do.call(rbind, lapply(paste0('data/', files), read.csv, header = T, stringsAsFactors = F))
dat$trial    = c(sapply(unique(dat$id), function(x) 1:nrow(dat[dat$id==x,])))
dat$cued_c   = ifelse(dat$cued==1, 1, -1)
dat$efflev_c = dat$efflev - mean(unique(dat$efflev))
N     = length(unique(dat$id))
pFem  = mean(sapply(unique(dat$id), function(x) grepl('f', tolower(dat[dat$id==x, 'sex'][1]))))
mAge  = mean(unique(dat$age))
sdAge = sd(unique(dat$age))
capture.output(list(N=N, pFem=pFem, mAge=mAge, sdAge=sdAge), file='out/demo.txt')
